resources:
  - name: deploy-ecs-basic-image
    type: image
    flags:
      - deploy-ecs-basic
    integration: dr-ecr
    pointer:
      sourceName: "${ECR_REPOSITORY_DOMAIN}/${DOCKER_IMAGE}"
      # sourceName: "679404489841.dkr.ecr.us-east-1.amazonaws.com/deploy-ecs-basic"
    seed:
      versionName: "latest"

  - name: deploy-ecs-basic-params
    type: params
    flags:
      - deploy-ecs-basic
    # version:
    #   params:
    #     PORT: 80
    #     ENVIRONMENT: "dev"

  - name: deploy-ecs-basic-docker-options
    type: dockerOptions
    flags:
      - deploy-ecs-basic
    # version:
    #   memory: 128
    #   portMappings:
    #     - 0:80

  - name: deploy-ecs-basic-replicas
    type: replicas
    flags:
      - deploy-ecs-basic
    version:
      count: 1

  - name: deploy-ecs-basic-ecs-cluster
    type: cluster
    flags:
      - deploy-ecs-basic
    integration: dr-aws
    pointer:
      sourceName : "deploy-ecs-basic" #name of the cluster to which we are deploying
      region: "${AWS_DEFAULT_REGION}"
